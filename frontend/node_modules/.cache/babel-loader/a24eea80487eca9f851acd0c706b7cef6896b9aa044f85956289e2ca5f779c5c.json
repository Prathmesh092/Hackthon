{"ast":null,"code":"const bcrypt = require('bcrypt');\nconst saltRounds = 10; // Recommended\n\napp.put('/api/patient/profile', async (req, res) => {\n  try {\n    const {\n      password,\n      ...otherFields\n    } = req.body;\n    const updateFields = {\n      ...otherFields\n    };\n    if (password) {\n      const hashedPassword = await bcrypt.hash(password, saltRounds);\n      updateFields.password = hashedPassword;\n    }\n\n    // Now update user in database with `updateFields`\n    await PatientModel.findByIdAndUpdate(req.userId, updateFields);\n    res.json({\n      message: 'Profile updated successfully.'\n    });\n  } catch (error) {\n    console.error('Error updating profile:', error);\n    res.status(500).json({\n      error: 'Internal server error.'\n    });\n  }\n});","map":{"version":3,"names":["bcrypt","require","saltRounds","app","put","req","res","password","otherFields","body","updateFields","hashedPassword","hash","PatientModel","findByIdAndUpdate","userId","json","message","error","console","status"],"sources":["C:/Users/DELL11/Desktop/Hospital-Management-System-MERN-main/frontend/src/components/Patient.js"],"sourcesContent":["const bcrypt = require('bcrypt');\r\nconst saltRounds = 10; // Recommended\r\n\r\napp.put('/api/patient/profile', async (req, res) => {\r\n  try {\r\n    const { password, ...otherFields } = req.body;\r\n    const updateFields = { ...otherFields };\r\n\r\n    if (password) {\r\n      const hashedPassword = await bcrypt.hash(password, saltRounds);\r\n      updateFields.password = hashedPassword;\r\n    }\r\n\r\n    // Now update user in database with `updateFields`\r\n    await PatientModel.findByIdAndUpdate(req.userId, updateFields);\r\n\r\n    res.json({ message: 'Profile updated successfully.' });\r\n  } catch (error) {\r\n    console.error('Error updating profile:', error);\r\n    res.status(500).json({ error: 'Internal server error.' });\r\n  }\r\n});\r\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAQ,CAAC;AAChC,MAAMC,UAAU,GAAG,EAAE,CAAC,CAAC;;AAEvBC,GAAG,CAACC,GAAG,CAAC,sBAAsB,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAClD,IAAI;IACF,MAAM;MAAEC,QAAQ;MAAE,GAAGC;IAAY,CAAC,GAAGH,GAAG,CAACI,IAAI;IAC7C,MAAMC,YAAY,GAAG;MAAE,GAAGF;IAAY,CAAC;IAEvC,IAAID,QAAQ,EAAE;MACZ,MAAMI,cAAc,GAAG,MAAMX,MAAM,CAACY,IAAI,CAACL,QAAQ,EAAEL,UAAU,CAAC;MAC9DQ,YAAY,CAACH,QAAQ,GAAGI,cAAc;IACxC;;IAEA;IACA,MAAME,YAAY,CAACC,iBAAiB,CAACT,GAAG,CAACU,MAAM,EAAEL,YAAY,CAAC;IAE9DJ,GAAG,CAACU,IAAI,CAAC;MAAEC,OAAO,EAAE;IAAgC,CAAC,CAAC;EACxD,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IAC/CZ,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAAEE,KAAK,EAAE;IAAyB,CAAC,CAAC;EAC3D;AACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}